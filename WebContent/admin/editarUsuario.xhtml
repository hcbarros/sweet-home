<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

           
    <f:view contentType="text/html">
        <h:head>
            <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
            <h:outputStylesheet library="css" name="main.css" />            
            <h:outputScript library="js" name="index.js"  />
                        
        </h:head>
        

        <h:body >
            
            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="0" resizable="true" closable="true" collapsible="true">
                    
                </p:layoutUnit>

                <p:layoutUnit position="south" size="100" closable="true" collapsible="true">
                    
                </p:layoutUnit>

                
                <p:layoutUnit position="west" size="210" header="Servicos" collapsible="true">
                    <h:form>
	                    <p:menu>
	                        <p:submenu label="Opções">                            	
	                            	
	                 			<p:menuitem ajax="false" action="/admin/meusImoveis.xhtml" value="Seus imóveis"/>
	                            <p:menuitem ajax="false" action="/admin/todosImoveis.xhtml" value="Todos os imóveis"/>
	                            <p:menuitem ajax="false" action="/admin/index.xhtml" value="Tela inicial"/>	                            
	                            	           
	                        </p:submenu>
	
	                    </p:menu>
                    
                    	                    
                    </h:form>
                </p:layoutUnit>

                <p:layoutUnit position="center">
                
                	
                	<p:outputLabel style="font-size:30px; font-weight: bold" value="Editar usuário" />  <br/><br/><br/>
                                							
					
					<h:form id="form">						                         
		                                          
		            		<h:panelGrid id="panel" columns="2" cellpadding="5">
		                                          					    
							                        
		                        <p:outputLabel for="nome" style="font-weight: bold" value="Primeiro nome: " />
		                         <p:inputText id="nome" value="#{cadastroUsuario.nome}" />
		                        		                        
		                                           
		                        <p:outputLabel for="sobrenome" style="font-weight: bold" value="Último nome: " /> 
		                        <p:inputText id="sobrenome" value="#{cadastroUsuario.sobrenome}" />
		                                         		                                         
		                                         		                                         
		                        <p:outputLabel for="email" style="font-weight: bold" value="Email: " /> 
		                        <p:inputText id="email" value="#{cadastroUsuario.email}" />                                   		                                         
		                                          	    
		                                          	    
		                        <p:outputLabel for="senha" style="font-weight: bold" value="Senha: " /> 
			                    <h:panelGrid columns="2">
			                        <p:inputText id="senha" maxlength="20" required="true" 
					                            value="#{cadastroUsuario.senha}" feedback="true"
					                            requiredMessage=" O campo senha deve ser preenchido!"
					                            promptLabel="Digite uma senha" />
					                <p:message for="senha" style="color:red"/>
								</h:panelGrid>	                                                            
		                                                                                 
		                           
		                        <p:outputLabel for="habilitado" style="font-weight: bold" value="Habilitado:" /> 
		                            <p:selectOneMenu id="habilitado" value="#{cadastroUsuario.habilitado}" style="width:125px">
		                                <f:selectItem itemLabel="Sim" itemValue="1" />
		                                <f:selectItem itemLabel="Não" itemValue="0" />    		                                                            
		                            </p:selectOneMenu>
		                        		                                                
		                       
		                        <p:outputLabel style="font-weight: bold" value="Telefones:" />
			                    <h:panelGrid columns="1" >
			                    
			                       	<p:commandButton value="Telefones" onclick="PF('telefones').show();" type="button" />                               		
			                               		<p:dialog width="400" modal="true" appendTo="@(body)" header="Telefones" closable="false"
			                             				 widgetVar="telefones" hideEffect="clip" showEffect="clip">                               
			                               		  
			                               		   <h:form id="formfone" style="height: 400px;" prependId="false">
			                               		                              			                               	
					                                	<p:carousel id="carrosel" rendered="#{cadastroUsuario.telefones != null}" value="#{cadastroUsuario.telefones}"  
					                                	var="fone" itemStyle="height:100%;text-align:center" numVisible="1" easing="easeOutBounce" 
					                                	style="width:100%; height:100%;" circular="true">
													    
														    <p:commandButton id="excluir" style="width: 100%;" value="Excluir" actionListener="#{cadastroUsuario.excluirTelefone(fone)}" type="button" >
																		<f:ajax event="click" execute="formfone excluir" render="formfone carrosel" />			  		
															</p:commandButton>
	
													        <h:panelGrid columns="2" style="width:100%; height: 100px" columnClasses="label,value">
													            								 
													            <p:outputLabel style="font-weight: bold" value="DDD:" />
													            <p:inputNumber style="width:50px;" value="#{fone.ddd}" maxlength="2" />
													 
													            <p:outputLabel style="font-weight: bold" value="Número:" />
													            <p:inputNumber style="width:50px;" value="#{fone.numero}" maxlength="9" />								 
													           
													        </h:panelGrid>
													    </p:carousel>     
													    
													    <p:commandButton id="fechar" value="Fechar" onclick='PF(#{cadastroUsuario.email}).hide();'>
													    		<f:ajax event="click" execute="fones fechar" render="carrosel" />
													    </p:commandButton>
													    
												   </h:form>	    
													    
												</p:dialog>
		                       
		                       </h:panelGrid>
		                                      
								                                
		                            
		                    </h:panelGrid>        
		                    
		                     <br/><br/>
		                     <p:commandButton ajax="false" value="Enviar" action="#{cadastroImovel.cadastrar()}" />
						     
						     <ui:fragment rendered="#{cadastroImovel.editar == true}">
									<p:commandButton style="margin-left: 10px;" value="Restaurar" update="form" process="@this" /> 
							 </ui:fragment>		                
				 			 
				 			 <ui:fragment rendered="#{cadastroImovel.editar == false}">
									<p:commandButton style="margin-left: 10px;" value="Limpar" update="panel" process="@this" >
						                <p:resetInput target="panel" />
						            </p:commandButton> 
							 </ui:fragment>		 
				 			 
				 	<br/>    <p:outputLabel binding="#{cadastroUsuario.mybutton}" id="btn" />
                        		<a style="color:red; font-size: 20px"><h:message for="btn" /></a>                   
		                            
		               </h:form>       
                        
                </p:layoutUnit>

            </p:layout>
            
        </h:body>

    </f:view>
</html>

